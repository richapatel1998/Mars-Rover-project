<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CprE 288 Final: fwdfilesfordoxygen/main.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CprE 288 Final
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">main.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="main_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;inc/tm4c123gh6pm.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="lcd_8h.html">lcd.h</a>&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_timer_8h.html">timer.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="servo_8h.html">servo.h</a>&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ping_8h.html">ping.h</a>&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="adc_8h.html">adc.h</a>&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_wi_fi_8h.html">WiFi.h</a>&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="button_8h.html">button.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="uart_8h.html">uart.h</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="open__interface_8h.html">open_interface.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="music_8h.html">music.h</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keywordtype">void</span> move_forward(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> dist);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keywordtype">void</span> move_backward(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> dist);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keywordtype">void</span> turn_right(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> deg);</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keywordtype">void</span> turn_left(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> deg);</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keywordtype">int</span> checkPhysical(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keywordtype">void</span> checkObjects(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keywordtype">void</span> play_song(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>){</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">//Setting up the robot</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="structoi__t.html">oi_t</a> *robot = <a class="code" href="open__interface_8c.html#aad249dffdf79454de76e09092a0445f5">oi_alloc</a>();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="open__interface_8c.html#a9108ba8c791d0e97444c03b2f40b278a">oi_init</a>(robot);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">//Setting up everything else</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="uart_8c.html#a0c0ca72359ddf28dcd15900dfba19343">uart_init</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="servo_8c.html#a58eac0ecfc4b82b1c40abef88f4d12f4">timer1b_init</a>();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="servo_8c.html#a9a6cca57e7cd20ae2ee6d92e289583ae">servo_init</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="ping_8c.html#a0e1f93b065111d06953b095cd6d9fdbd">timer3b_init</a>();</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="ping_8c.html#a287ab98339d2881349faf22296d6392b">ping_init</a>();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="adc_8c.html#a1e942fcd91f79d49e4ddb8d7e9d3ef95">adc_init</a>();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="lcd_8c.html#a6842775ba83d166f02b8fef8bb63b1e6">lcd_init</a>();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">//the char values for command and severity of that command</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">char</span> command, severity;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">while</span>(1){</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="comment">//used like boolean values to tell whether we&#39;ve recieved a command</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordtype">int</span> newDataBool = 0, newDataBoolTwo = 0;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="comment">//Look for a command 1</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        newDataBool = <a class="code" href="uart_8c.html#a85541a04e49d069adb5c371133e4bee8">uart_Receive_NonBlocking</a>(&amp;command);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">while</span> (newDataBool == 1){</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="comment">//If the commands are no good reset</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">if</span> ((command == <span class="stringliteral">&#39;/r&#39;</span> || command == <span class="stringliteral">&#39;\x0d&#39;</span> || command == <span class="charliteral">&#39; &#39;</span>) || (command != <span class="charliteral">&#39;w&#39;</span> &amp;&amp; command != <span class="charliteral">&#39;a&#39;</span> &amp;&amp; command != <span class="charliteral">&#39;s&#39;</span> &amp;&amp; command != <span class="charliteral">&#39;d&#39;</span> &amp;&amp; command != <span class="charliteral">&#39;p&#39;</span> &amp;&amp; command != <span class="charliteral">&#39;l&#39;</span>)){</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                newDataBool = 0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="comment">//look for next command</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            newDataBoolTwo = <a class="code" href="uart_8c.html#a85541a04e49d069adb5c371133e4bee8">uart_Receive_NonBlocking</a>(&amp;severity);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">while</span> (newDataBoolTwo == 1){</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <span class="keywordtype">int</span> severityNum = severity - <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordtype">char</span> note[18] = <span class="stringliteral">&quot;Command Sent      &quot;</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                note[13] = command;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                note[15] = (char) (severityNum + <span class="charliteral">&#39;0&#39;</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                note[16] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                note[17] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="comment">//check if the number isn&#39;t ridiculous</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="keywordflow">if</span> (severityNum &gt;= 0 &amp;&amp; severityNum &lt;= 9){</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;w&#39;</span>){</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                        move_forward(robot, severityNum * 26);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                        newDataBool = 0;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        newDataBoolTwo = 0;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;s&#39;</span>){</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                        move_backward(robot, severityNum * 26);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                        newDataBool = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        newDataBoolTwo = 0;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;d&#39;</span>){</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                        turn_right(robot, severityNum * 30);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        newDataBool = 0;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        newDataBoolTwo = 0;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;a&#39;</span>){</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        turn_left(robot, severityNum * 30);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                        newDataBool = 0;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                        newDataBoolTwo = 0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    newDataBool = 0;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    newDataBoolTwo = 0;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="comment">//look around with sensors on servo</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;l&#39;</span>){</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="keywordtype">char</span> note[16] = <span class="stringliteral">&quot;Command Sent    &quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                note[13] = command;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                note[14] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                note[15] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                checkObjects();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                newDataBool = 0;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }   <span class="comment">//play songs</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;p&#39;</span>){</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordtype">char</span> note[16] = <span class="stringliteral">&quot;Command Sent    &quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                note[13] = command;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                note[14] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                note[15] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="music_8c.html#aa80554c8e4ca12d177015a1c04c00116">load_songs</a>(robot);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                newDataBool = 0;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }   <span class="comment">//flash lights</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="charliteral">&#39;u&#39;</span>){</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="keywordtype">char</span> note[16] = <span class="stringliteral">&quot;Command Sent    &quot;</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                note[13] = command;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                note[14] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                note[15] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 0, 255);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 255, 255);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 0, 255);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 0, 255);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 255, 255);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <a class="code" href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a>(0, 1, 0, 255);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(100);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                newDataBool = 0;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; <span class="comment">/*</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  * Function for turning the robot right by a number of degrees</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  * @param self struct with the robot&#39;s registers</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  * @param deg the amount of degrees to move</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  * @date 4/23/2018</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keywordtype">void</span> turn_right(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> deg){</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">//Start turning</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(-100, 100);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">//used to keep track of distance turned</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">double</span> sum = 0;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">while</span> (sum &lt; deg)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">//callibration</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        sum -= (double) self-&gt;angle * 1.013;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;%.3f, %d&quot;</span>, sum, deg);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> * Function for turning the robot left by a number of degrees</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> * @param self struct with the robot&#39;s registers</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> * @param the amount of degrees to move</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> * @date 4/23/2018</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">void</span> turn_left(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> deg)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">//Start moving</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(100, -100);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">//used to keep track of distance turned in angles</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">double</span> sum = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">while</span> (sum &lt; deg)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">//callibration</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        sum += (double) self-&gt;angle * 1.013;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;%.3f, %d&quot;</span>, sum, deg);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> * Function for moving the robot forward by a number of units</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * @param self struct with the robot&#39;s registers</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> * @param the amount of units to move</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * @date 4/23/2018</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keywordtype">void</span> move_forward(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> dist){</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">//Start the movement</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(150, 150);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">//used to keep the current traveled distance</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">int</span> sum = 0;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">//make sure the roomba hasn&#39;t gone too far and stop it if does</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">while</span> (sum &lt; dist)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> (checkPhysical(<span class="keyword">self</span>) == 1){</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(-50, -50);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(1000);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        sum += <span class="keyword">self</span>-&gt;distance;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;%d&quot;</span>, sum);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"> * Function for moving the robot backward by a number of units</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> * @param self struct with the robot&#39;s registers</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> * @param the amount of units to move</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * @date 4/23/2018</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">void</span> move_backward(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>, <span class="keywordtype">int</span> dist)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">//Start the movement</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(-150, -150);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">//used to keep track of distance</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">int</span> sum = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">//checks to make sure the robot hasn&#39;t gone to far or hit anything</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">while</span> (sum &gt; 0 - dist)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">//if someting messed up stop and back up</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (checkPhysical(<span class="keyword">self</span>) == 1){</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(-50, -50);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(1000);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        sum += <span class="keyword">self</span>-&gt;distance;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;%d&quot;</span>, sum);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> * Method that checks all the sensors at once of the roomba</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> * and if any have been found, stops the robot, looks for</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> * bumpers, cliff scans and for while lines</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> * @param self struct with the robot&#39;s registers</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> * @date 4/23/2018</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keywordtype">int</span> checkPhysical(<a class="code" href="structoi__t.html">oi_t</a>*<span class="keyword">self</span>){</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="comment">//boolean used to make less repeated code</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">int</span> t = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">//Get new data from sensors</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="comment">//Check front bump</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> ((self-&gt;bumpLeft == 1) &amp;&amp; (self-&gt;bumpRight == 1)){</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Object Front\n\r&quot;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordtype">char</span> note[14] = <span class="stringliteral">&quot;Object Front  &quot;</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        note[12] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        note[13] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        t = 1;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }   <span class="comment">//Check left bump</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;bumpLeft == 1){</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Object Left\n\r&quot;</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordtype">char</span> note[13] = <span class="stringliteral">&quot;Object Left  &quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        note[11] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        note[12] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        t = 1;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }   <span class="comment">//Check right bump</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;bumpRight == 1){</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Object Right\n\r&quot;</span>);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordtype">char</span> note[14] = <span class="stringliteral">&quot;Object Right  &quot;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        note[12] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        note[13] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        t = 1;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">//Check Cliff Right Front</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> ((self-&gt;cliffFrontRightSignal &lt;= 700) &amp;&amp; (self-&gt;cliffFrontLeftSignal &lt;= 700)){</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Cliff Front\n\r&quot;</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordtype">char</span> note[13] = <span class="stringliteral">&quot;Cliff Front  &quot;</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        note[11] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        note[12] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        t = 1;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }   <span class="comment">//Check Cliff Left</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffLeftSignal &lt;= 700){</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Cliff Left\n\r&quot;</span>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordtype">char</span> note[12] = <span class="stringliteral">&quot;Cliff Left  &quot;</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        note[10] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        note[11] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        t = 1;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }   <span class="comment">//Check Cliff Left Front</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffFrontLeftSignal &lt;= 700){</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Cliff Left Front\n\r&quot;</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordtype">char</span> note[18] = <span class="stringliteral">&quot;Cliff Left Front  &quot;</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        note[16] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        note[17] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        t = 1;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }   <span class="comment">//Check Cliff Right Front</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffFrontRightSignal &lt;= 700){</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Cliff Right Front\n\r&quot;</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordtype">char</span> note[19] = <span class="stringliteral">&quot;Cliff Right Front  &quot;</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        note[17] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        note[18] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        t = 1;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }   <span class="comment">//Check Cliff Right</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffRightSignal &lt;= 700){</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;Cliff Right\n\r&quot;</span>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordtype">char</span> note[13] = <span class="stringliteral">&quot;Cliff Right  &quot;</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        note[11] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        note[12] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        t = 1;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">//Check White Line Right</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (self-&gt;cliffRightSignal &gt;= 2600){</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;White Line Right\n\r&quot;</span>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordtype">char</span> note[18] = <span class="stringliteral">&quot;White Line Right  &quot;</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        note[16] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        note[17] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        t = 1;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }   <span class="comment">//Check White Line Left</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffLeftSignal &gt;= 2600){</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;White Line Left\n\r&quot;</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordtype">char</span> note[17] = <span class="stringliteral">&quot;White Line Left  &quot;</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        note[15] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        note[16] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        t = 1;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }   <span class="comment">//Check White Line Front</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((self-&gt;cliffFrontRightSignal &gt;= 2600) &amp;&amp; (self-&gt;cliffFrontLeftSignal &gt;= 2600)){</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;White Line Front\n\r&quot;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordtype">char</span> note[18] = <span class="stringliteral">&quot;White Line Front  &quot;</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        note[16] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        note[17] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        t = 1;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }   <span class="comment">//Check White Line Front Left</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffFrontLeftSignal &gt;= 2600){</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;White Line Front Left\n\r&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordtype">char</span> note[23] = <span class="stringliteral">&quot;White Line Front Left  &quot;</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        note[21] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        note[22] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        t = 1;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }   <span class="comment">//Check White Line Front Right</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (self-&gt;cliffFrontRightSignal &gt;= 2600){</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a>(<span class="stringliteral">&quot;White Line Front Right\n\r&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordtype">char</span> note[24] = <span class="stringliteral">&quot;White Line Front Right  &quot;</span>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        note[22] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        note[23] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(note);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        t = 1;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="comment">//if any sensor trip stop machine</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">if</span> (t==1){</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a>(0, 0);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a>(300);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">return</span> t;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"> * Method handles the sweeping scan of objects at its arounds, </span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"> * sets parameters for the motor, the IR and Ping))) sensors</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment"> * after this it scans in 180 degrees and relays it back using</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"> * wifi and the uart protocol to recieve bytes of all the solid objects found.</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment"> * @date 4/23/2018</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="keywordtype">void</span> checkObjects(<span class="keywordtype">void</span>){</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">//Servo</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">int</span> servo_position = 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">int</span> irValue = 0, ir_dist = 0;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">//Ping</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> ping_distance = 0, ping_different = 0, ping_of = 0;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="servo_8c.html#a15703b8f962bb0bccacea54e5ffd3453">move_servo</a>(servo_position);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">//Linear Width setup</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">int</span> objectDist[20], objectWidths[20], angleWidths[20], degreeMid[20];</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">int</span> smallestObj = 0, smallestAngleWidth = 100, lastIR = 0, edge = 0, startEdge = 0, endEdge = 0, startDegree, endDegree;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">//Putty output setup</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">char</span> header[] = <span class="stringliteral">&quot;Degrees:        IR Distance:            Sonar Distance: \r\n&quot;</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">char</span> transmit[50] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    transmit[20] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">//Throwaway Values</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span> i = 0, j = 0, angle = 0;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(header);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">//Start Scanning</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">for</span> (angle = 0; angle &lt; 91; angle++){</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        irValue = <a class="code" href="adc_8c.html#a989c8af849724017293d5bf5d3fe9218">adc_read</a>();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="ping_8c.html#a617796a61a20b423067fa6796c7bd3fc">ping_sendData</a>();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">while</span> (state != 2){</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (rising &gt; falling){</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            ping_different = 16777216 - (rising - falling);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            ping_of++;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            ping_different = falling - rising;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        state = 0;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        ping_distance = (ping_different * 34) / 32000;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="comment">//Configuration values</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">if</span> ((lastIR - irValue) &gt; 25 &amp;&amp; edge == 0 &amp;&amp; ping_distance &lt; 85 &amp;&amp; irValue &lt; 90 &amp;&amp; ping_distance &lt; irValue){ <span class="comment">//need ir_val because ping is a cone and could pick up other stuff</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            i++;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            edge = 1;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            startEdge = ping_distance;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            startDegree = servo_position;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((irValue - lastIR) &gt; 25 &amp;&amp; edge == 1 &amp;&amp; ping_distance &lt; 85 &amp;&amp; irValue &gt; 90 &amp;&amp; ping_distance &lt; irValue){</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            j++;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            edge = 0;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            endEdge = ping_distance;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            endDegree = servo_position;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            objectDist[i] = (startEdge + endEdge) / 2;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            degreeMid[i] = (startDegree + endDegree) / 2;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            angleWidths[i] = endDegree - startDegree;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            objectWidths[i] = angleWidths[i];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (smallestAngleWidth &gt; objectWidths[i] || smallestObj == 0){</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                smallestAngleWidth = endDegree - startDegree;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                smallestObj = i;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">//Send Data back to Putty</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(transmit);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">//Move 2 degrees left</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="servo_8c.html#a15703b8f962bb0bccacea54e5ffd3453">move_servo</a>(servo_position += 2);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="comment">//reset when done</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> (servo_position &gt; 180){</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            servo_position = 0;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="servo_8c.html#a15703b8f962bb0bccacea54e5ffd3453">move_servo</a>(servo_position);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        lastIR = irValue;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">//Face smallest object (never works)</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="servo_8c.html#a15703b8f962bb0bccacea54e5ffd3453">move_servo</a>(degreeMid[smallestObj]);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">//Print more object info</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= j; i++) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a>(transmit);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="ttc" id="ping_8h_html"><div class="ttname"><a href="ping_8h.html">ping.h</a></div><div class="ttdoc">File to use and initialize the Ping))) sensor. Defines the methods for both initializing the Ping))) ...</div></div>
<div class="ttc" id="uart_8h_html"><div class="ttname"><a href="uart_8h.html">uart.h</a></div><div class="ttdoc">Header that includes methods to take bytes of data and transfer them using the uart protocol...</div></div>
<div class="ttc" id="uart_8c_html_a0c0ca72359ddf28dcd15900dfba19343"><div class="ttname"><a href="uart_8c.html#a0c0ca72359ddf28dcd15900dfba19343">uart_init</a></div><div class="ttdeci">void uart_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00031">uart.c:31</a></div></div>
<div class="ttc" id="adc_8c_html_a989c8af849724017293d5bf5d3fe9218"><div class="ttname"><a href="adc_8c.html#a989c8af849724017293d5bf5d3fe9218">adc_read</a></div><div class="ttdeci">int adc_read()</div><div class="ttdef"><b>Definition:</b> <a href="adc_8c_source.html#l00042">adc.c:42</a></div></div>
<div class="ttc" id="music_8c_html_aa80554c8e4ca12d177015a1c04c00116"><div class="ttname"><a href="music_8c.html#aa80554c8e4ca12d177015a1c04c00116">load_songs</a></div><div class="ttdeci">void load_songs()</div><div class="ttdef"><b>Definition:</b> <a href="music_8c_source.html#l00017">music.c:17</a></div></div>
<div class="ttc" id="servo_8h_html"><div class="ttname"><a href="servo_8h.html">servo.h</a></div><div class="ttdoc">This fine is in charge of defining the methods to control the servo. This has initailization for the ...</div></div>
<div class="ttc" id="ping_8c_html_a0e1f93b065111d06953b095cd6d9fdbd"><div class="ttname"><a href="ping_8c.html#a0e1f93b065111d06953b095cd6d9fdbd">timer3b_init</a></div><div class="ttdeci">void timer3b_init()</div><div class="ttdef"><b>Definition:</b> <a href="ping_8c_source.html#l00034">ping.c:34</a></div></div>
<div class="ttc" id="button_8h_html"><div class="ttname"><a href="button_8h.html">button.h</a></div><div class="ttdoc">header file to contain the given methods for the botton recognition in the roomba&amp;#39;s panel...</div></div>
<div class="ttc" id="open__interface_8c_html_a9129559bba5ff9dc7e4df64330864674"><div class="ttname"><a href="open__interface_8c.html#a9129559bba5ff9dc7e4df64330864674">oi_update</a></div><div class="ttdeci">void oi_update(oi_t *self)</div><div class="ttdoc">Update all sensor and store in oi_t struct. </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8c_source.html#l00162">open_interface.c:162</a></div></div>
<div class="ttc" id="adc_8h_html"><div class="ttname"><a href="adc_8h.html">adc.h</a></div><div class="ttdoc">File to initialize and read the IR sensor. Contatinig 2 commmands, to initialize the pins in the micr...</div></div>
<div class="ttc" id="_wi_fi_8h_html"><div class="ttname"><a href="_wi_fi_8h.html">WiFi.h</a></div><div class="ttdoc">Apparently now obsolete file to transmit functions through the wifi included board that sends and rec...</div></div>
<div class="ttc" id="ping_8c_html_a287ab98339d2881349faf22296d6392b"><div class="ttname"><a href="ping_8c.html#a287ab98339d2881349faf22296d6392b">ping_init</a></div><div class="ttdeci">void ping_init()</div><div class="ttdef"><b>Definition:</b> <a href="ping_8c_source.html#l00023">ping.c:23</a></div></div>
<div class="ttc" id="open__interface_8c_html_a49949f029cc5f84ad903aa7022f4e5e0"><div class="ttname"><a href="open__interface_8c.html#a49949f029cc5f84ad903aa7022f4e5e0">oi_setWheels</a></div><div class="ttdeci">void oi_setWheels(int16_t right_wheel, int16_t left_wheel)</div><div class="ttdoc">Set direction and speed of the robot&amp;#39;s wheels. </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8c_source.html#l00306">open_interface.c:306</a></div></div>
<div class="ttc" id="open__interface_8h_html"><div class="ttname"><a href="open__interface_8h.html">open_interface.h</a></div><div class="ttdoc">Contains all functionality to interface with the IRobot Create V2 Communication over UART4 at 115200...</div></div>
<div class="ttc" id="servo_8c_html_a58eac0ecfc4b82b1c40abef88f4d12f4"><div class="ttname"><a href="servo_8c.html#a58eac0ecfc4b82b1c40abef88f4d12f4">timer1b_init</a></div><div class="ttdeci">void timer1b_init()</div><div class="ttdef"><b>Definition:</b> <a href="servo_8c_source.html#l00022">servo.c:22</a></div></div>
<div class="ttc" id="open__interface_8c_html_a9ce8d6194cf8cb1d39104b641cb5254d"><div class="ttname"><a href="open__interface_8c.html#a9ce8d6194cf8cb1d39104b641cb5254d">oi_setLeds</a></div><div class="ttdeci">void oi_setLeds(uint8_t play_led, uint8_t advance_led, uint8_t power_color, uint8_t power_intensity)</div><div class="ttdoc">Set the LEDS on the Create. </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8c_source.html#l00288">open_interface.c:288</a></div></div>
<div class="ttc" id="_timer_8h_html"><div class="ttname"><a href="_timer_8h.html">Timer.h</a></div><div class="ttdoc">Given file with functions for polling a wait timer. </div></div>
<div class="ttc" id="ping_8c_html_a617796a61a20b423067fa6796c7bd3fc"><div class="ttname"><a href="ping_8c.html#a617796a61a20b423067fa6796c7bd3fc">ping_sendData</a></div><div class="ttdeci">void ping_sendData()</div><div class="ttdef"><b>Definition:</b> <a href="ping_8c_source.html#l00073">ping.c:73</a></div></div>
<div class="ttc" id="adc_8c_html_a1e942fcd91f79d49e4ddb8d7e9d3ef95"><div class="ttname"><a href="adc_8c.html#a1e942fcd91f79d49e4ddb8d7e9d3ef95">adc_init</a></div><div class="ttdeci">void adc_init()</div><div class="ttdef"><b>Definition:</b> <a href="adc_8c_source.html#l00019">adc.c:19</a></div></div>
<div class="ttc" id="lcd_8h_html"><div class="ttname"><a href="lcd_8h.html">lcd.h</a></div><div class="ttdoc">File to control outputs to the roomba&amp;#39;s lcd screen for debugging purposes. </div></div>
<div class="ttc" id="structoi__t_html"><div class="ttname"><a href="structoi__t.html">oi_t</a></div><div class="ttdoc">iRobot Create Sensor Data </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8h_source.html#l00022">open_interface.h:22</a></div></div>
<div class="ttc" id="open__interface_8c_html_a9108ba8c791d0e97444c03b2f40b278a"><div class="ttname"><a href="open__interface_8c.html#a9108ba8c791d0e97444c03b2f40b278a">oi_init</a></div><div class="ttdeci">void oi_init(oi_t *self)</div><div class="ttdoc">Initialize open interface. </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8c_source.html#l00147">open_interface.c:147</a></div></div>
<div class="ttc" id="music_8h_html"><div class="ttname"><a href="music_8h.html">music.h</a></div><div class="ttdoc">File defining a method and a define for purposes of implementing sounds to be played by the roomba...</div></div>
<div class="ttc" id="open__interface_8c_html_aad249dffdf79454de76e09092a0445f5"><div class="ttname"><a href="open__interface_8c.html#aad249dffdf79454de76e09092a0445f5">oi_alloc</a></div><div class="ttdeci">oi_t * oi_alloc()</div><div class="ttdoc">Allocate and clear all memory for OI Struct. </div><div class="ttdef"><b>Definition:</b> <a href="open__interface_8c_source.html#l00111">open_interface.c:111</a></div></div>
<div class="ttc" id="servo_8c_html_a15703b8f962bb0bccacea54e5ffd3453"><div class="ttname"><a href="servo_8c.html#a15703b8f962bb0bccacea54e5ffd3453">move_servo</a></div><div class="ttdeci">void move_servo(unsigned degree)</div><div class="ttdef"><b>Definition:</b> <a href="servo_8c_source.html#l00055">servo.c:55</a></div></div>
<div class="ttc" id="lcd_8c_html_a6842775ba83d166f02b8fef8bb63b1e6"><div class="ttname"><a href="lcd_8c.html#a6842775ba83d166f02b8fef8bb63b1e6">lcd_init</a></div><div class="ttdeci">void lcd_init(void)</div><div class="ttdoc">Initialize PORTB0:6 to Communicate with LCD. </div><div class="ttdef"><b>Definition:</b> <a href="lcd_8c_source.html#l00065">lcd.c:65</a></div></div>
<div class="ttc" id="uart_8c_html_a92ace7e4087878f7ab1459a7f2bd45e4"><div class="ttname"><a href="uart_8c.html#a92ace7e4087878f7ab1459a7f2bd45e4">uart_SendString</a></div><div class="ttdeci">void uart_SendString(char *word)</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00077">uart.c:77</a></div></div>
<div class="ttc" id="servo_8c_html_a9a6cca57e7cd20ae2ee6d92e289583ae"><div class="ttname"><a href="servo_8c.html#a9a6cca57e7cd20ae2ee6d92e289583ae">servo_init</a></div><div class="ttdeci">void servo_init()</div><div class="ttdef"><b>Definition:</b> <a href="servo_8c_source.html#l00042">servo.c:42</a></div></div>
<div class="ttc" id="uart_8c_html_a85541a04e49d069adb5c371133e4bee8"><div class="ttname"><a href="uart_8c.html#a85541a04e49d069adb5c371133e4bee8">uart_Receive_NonBlocking</a></div><div class="ttdeci">int uart_Receive_NonBlocking(char *data)</div><div class="ttdef"><b>Definition:</b> <a href="uart_8c_source.html#l00115">uart.c:115</a></div></div>
<div class="ttc" id="_timer_8c_html_a7e2a3b4520e885e5e7d40fa87e242a75"><div class="ttname"><a href="_timer_8c.html#a7e2a3b4520e885e5e7d40fa87e242a75">timer_waitMillis</a></div><div class="ttdeci">void timer_waitMillis(uint32_t millis)</div><div class="ttdef"><b>Definition:</b> <a href="_timer_8c_source.html#l00021">Timer.c:21</a></div></div>
<div class="ttc" id="lcd_8c_html_a3c12e31b86febabfc7e62b51e0b9dc30"><div class="ttname"><a href="lcd_8c.html#a3c12e31b86febabfc7e62b51e0b9dc30">lcd_printf</a></div><div class="ttdeci">void lcd_printf(const char *format,...)</div><div class="ttdoc">Print a formatted string to the LCD screen. </div><div class="ttdef"><b>Definition:</b> <a href="lcd_8c_source.html#l00258">lcd.c:258</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_afb5de07d1ea9ed7c40849472699d460.html">fwdfilesfordoxygen</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
